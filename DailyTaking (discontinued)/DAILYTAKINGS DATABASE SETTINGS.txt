CREATE DATABASE IF NOT EXISTS DAILYTAKINGS;
USE DAILYTAKINGS;
CREATE TABLE IF NOT EXISTS USERS
(
ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
USERNAME VARCHAR(30) NOT NULL,
PASSWORD VARCHAR(50) NOT NULL,
NAME VARCHAR(30) NOT NULL,
SURNAME VARCHAR(30) NOT NULL,
DATESTAMP DATETIME NOT NULL DEFAULT NOW()
);

CREATE TABLE IF NOT EXISTS TAKINGS
(
ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
ID_OF_USER INT,
SERVICE_ORDER_NUMBER VARCHAR(50),
CASH FLOAT,
CARD FLOAT,
DATESTAMP DATETIME NOT NULL DEFAULT NOW(),
SALES_DESCRIPTION VARCHAR(250),
REFUNDED_BY_CASH FLOAT DEFAULT 0,
REFUNDED_BY_CARD FLOAT DEFAULT 0,
LAST_EDITED DATETIME NOT NULL DEFAULT NOW(),
LAST_EDITED_BY INT,
FOREIGN KEY(ID_OF_USER) REFERENCES USERS(ID),
FOREIGN KEY(LAST_EDITED_BY) REFERENCES USERS(ID)
);